# ============================================================================
# DevFlow Pro - Environment Configuration
# ============================================================================
# This file contains all configuration variables for DevFlow Pro.
# Copy this file to .env and update the values according to your environment.
#
# For detailed configuration guide, see: docs/CONFIGURATION.md
# ============================================================================

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Application name - shown in UI and emails
APP_NAME="DevFlow Pro"

# Application environment (local, staging, production)
# Options: local, staging, production
APP_ENV=local

# Application key - used for encryption
# Generate with: php artisan key:generate
APP_KEY=

# Debug mode - Set to true for local development
# WARNING: NEVER enable in production!
APP_DEBUG=true

# Application URL - used for generating links and webhooks
# Example: https://devflow.example.com
APP_URL=http://localhost

# Application timezone
# See: https://www.php.net/manual/en/timezones.php
APP_TIMEZONE=UTC

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database connection type
# Options: sqlite (easiest), pgsql (production), mysql
# For quick local development, use sqlite (no setup required)
DB_CONNECTION=sqlite

# SQLite Configuration (Default - Zero Setup Required)
# Just run: touch database/database.sqlite && php artisan migrate
# DB_DATABASE is optional for sqlite - defaults to database/database.sqlite

# PostgreSQL Configuration (Recommended for production)
# Uncomment below and set DB_CONNECTION=pgsql
# DB_HOST=127.0.0.1
# DB_PORT=5432
# DB_DATABASE=devflow_pro
# DB_USERNAME=devflow
# DB_PASSWORD=your_secure_password_here

# MySQL Configuration (Alternative)
# Uncomment below and set DB_CONNECTION=mysql
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=devflow_pro
# DB_USERNAME=root
# DB_PASSWORD=your_secure_password_here

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================

# Cache driver - where to store cached data
# Options: file (local dev), redis (production), database, array
# For quick local development, use file (no Redis required)
CACHE_STORE=file

# Cache key prefix - prevents conflicts with other applications
CACHE_PREFIX=devflow_cache

# Default cache TTL (in seconds)
# 3600 = 1 hour
CACHE_TTL=3600

# ============================================================================
# QUEUE CONFIGURATION
# ============================================================================

# Queue connection - for background job processing
# Options: sync (local dev), database, redis (production), sqs
# Use 'sync' for quick local development (processes jobs immediately)
QUEUE_CONNECTION=sync

# ============================================================================
# SESSION CONFIGURATION
# ============================================================================

# Session driver - where to store user sessions
# Options: file (local dev), redis (production), database, cookie
# Use 'file' for quick local development (no Redis required)
SESSION_DRIVER=file

# Session lifetime in minutes
# 120 = 2 hours
SESSION_LIFETIME=120

# Encrypt session data
SESSION_ENCRYPT=false

# Session cookie path
SESSION_PATH=/

# Session cookie domain (null = current domain)
SESSION_DOMAIN=null

# Session cookie secure flag (true for HTTPS only)
SESSION_SECURE_COOKIE=false

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================

# Redis client
# Options: predis, phpredis (phpredis requires PHP extension)
REDIS_CLIENT=predis

# Redis server host
REDIS_HOST=127.0.0.1

# Redis server port
REDIS_PORT=6379

# Redis password (leave empty if no password)
REDIS_PASSWORD=null

# Redis database number (0-15)
REDIS_DB=0

# Redis key prefix - prevents conflicts with other applications
REDIS_PREFIX=devflow_

# ============================================================================
# BROADCASTING & WEBSOCKETS
# ============================================================================

# Broadcasting driver for real-time features
# Options: log (local dev), reverb, pusher, redis, null
# Use 'log' for local development, 'reverb' for production real-time
BROADCAST_CONNECTION=log

# Laravel Reverb Configuration (WebSocket Server)
# Reverb is Laravel's official WebSocket server
REVERB_APP_ID=devflow-app
REVERB_APP_KEY=
REVERB_APP_SECRET=
REVERB_HOST=localhost
REVERB_PORT=8080
REVERB_SCHEME=http

# For production, use wss:// and configure SSL
# REVERB_SCHEME=https
# REVERB_PORT=443

# ============================================================================
# MAIL CONFIGURATION
# ============================================================================

# Mail driver
# Options: smtp, sendmail, mailgun, ses, postmark, log
MAIL_MAILER=smtp

# SMTP Configuration
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=tls

# Mail from address (used for system emails)
MAIL_FROM_ADDRESS="noreply@devflow.pro"
MAIL_FROM_NAME="${APP_NAME}"

# Mailgun Configuration (if using Mailgun)
# MAILGUN_DOMAIN=
# MAILGUN_SECRET=
# MAILGUN_ENDPOINT=api.mailgun.net

# AWS SES Configuration (if using SES)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_DEFAULT_REGION=us-east-1

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Main log channel
# Options: stack, single, daily, slack, syslog, errorlog
LOG_CHANNEL=stack

# Stack channels (comma-separated)
LOG_STACK=single

# Log deprecation warnings
LOG_DEPRECATIONS_CHANNEL=null

# Minimum log level
# Options: debug, info, notice, warning, error, critical, alert, emergency
LOG_LEVEL=info

# Log retention in days
LOG_RETENTION_DAYS=90

# ============================================================================
# FILESYSTEM & STORAGE CONFIGURATION
# ============================================================================

# Default filesystem disk
# Options: local, public, s3, gcs, dropbox, azure
FILESYSTEM_DISK=local

# AWS S3 Configuration (Optional - for cloud storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# Google Cloud Storage Configuration (Optional)
# GCS_KEY_FILE=path/to/service-account.json
# GCS_PROJECT_ID=
# GCS_BUCKET=

# Azure Storage Configuration (Optional)
# AZURE_STORAGE_ACCOUNT=
# AZURE_STORAGE_KEY=
# AZURE_STORAGE_CONTAINER=

# ============================================================================
# DEVFLOW PRO - CORE CONFIGURATION
# ============================================================================

# Projects Storage Path
# Where all managed project files are stored
# Default: /opt/devflow/projects
DEVFLOW_PROJECTS_PATH=/opt/devflow/projects

# Backups Storage Path
# Where project backups are stored
# Default: /opt/devflow/backups
DEVFLOW_BACKUP_PATH=/opt/devflow/backups

# Logs Storage Path
# Where DevFlow system logs are stored
# Default: /opt/devflow/logs
DEVFLOW_LOGS_PATH=/opt/devflow/logs

# SSL Certificates Path
# Where SSL certificates are stored
# Default: /opt/devflow/ssl
DEVFLOW_SSL_PATH=/opt/devflow/ssl

# ============================================================================
# DEVFLOW PRO - DEPLOYMENT SETTINGS
# ============================================================================

# Maximum concurrent deployments
# How many projects can be deployed simultaneously
DEVFLOW_MAX_CONCURRENT_DEPLOYMENTS=3

# Deployment log retention (in days)
DEVFLOW_DEPLOYMENT_RETENTION_DAYS=30

# Require approval for deployments
# If true, deployments need manual approval
DEVFLOW_REQUIRE_DEPLOYMENT_APPROVAL=false

# Auto backup before deployment
# Create automatic backup before each deployment
DEVFLOW_AUTO_BACKUP_BEFORE_DEPLOY=true

# Backup retention (in days)
DEVFLOW_BACKUP_RETENTION_DAYS=7

# ============================================================================
# DEVFLOW PRO - DOCKER CONFIGURATION
# ============================================================================

# Docker socket path
# Path to Docker socket for container management
DOCKER_SOCKET=/var/run/docker.sock

# Docker network name
# Network used for DevFlow managed containers
DOCKER_NETWORK=devflow_network

# Default PHP version for Laravel projects
# Options: 8.1, 8.2, 8.3, 8.4
DEVFLOW_DEFAULT_PHP_VERSION=8.4

# Default Node.js version
# Options: 18, 20, 21
DEVFLOW_DEFAULT_NODE_VERSION=20

# Enable Docker BuildKit (recommended)
# BuildKit improves build performance and adds new features
DEVFLOW_DOCKER_BUILDKIT=true

# Default container restart policy
# Options: no, always, unless-stopped, on-failure
DEVFLOW_DOCKER_RESTART_POLICY=unless-stopped

# ============================================================================
# DEVFLOW PRO - HEALTH CHECK SETTINGS
# ============================================================================

# Health check interval (in seconds)
# How often to check project health
# Default: 300 (5 minutes)
DEVFLOW_HEALTH_CHECK_INTERVAL=300

# SSL certificate expiry warning (in days)
# Show warning when certificate expires within this period
DEVFLOW_SSL_EXPIRY_WARNING_DAYS=7

# Resource usage thresholds (percentage)
# Warning thresholds
DEVFLOW_DISK_WARNING_THRESHOLD=75
DEVFLOW_CPU_WARNING_THRESHOLD=75
DEVFLOW_MEMORY_WARNING_THRESHOLD=75

# Critical thresholds
DEVFLOW_DISK_CRITICAL_THRESHOLD=90
DEVFLOW_CPU_CRITICAL_THRESHOLD=90
DEVFLOW_MEMORY_CRITICAL_THRESHOLD=90

# ============================================================================
# DEVFLOW PRO - TIMEOUT SETTINGS (in seconds)
# ============================================================================

# Docker operation timeouts
DEVFLOW_TIMEOUT_DOCKER_INSTALL=300
DEVFLOW_TIMEOUT_DOCKER_COMPOSE_BUILD=1200
DEVFLOW_TIMEOUT_DOCKER_BUILD=600
DEVFLOW_TIMEOUT_DOCKER_COMPOSE_START=300
DEVFLOW_TIMEOUT_DOCKER_PULL=600
DEVFLOW_TIMEOUT_SYSTEM_PRUNE=300

# Backup and maintenance timeouts
DEVFLOW_TIMEOUT_BACKUP=1800
DEVFLOW_TIMEOUT_LOG_DOWNLOAD=120

# Health check timeouts
DEVFLOW_TIMEOUT_HEALTH_CHECK=10
DEVFLOW_TIMEOUT_SSL_CHECK=30

# General command execution timeout
DEVFLOW_TIMEOUT_COMMAND_EXEC=300

# ============================================================================
# DEVFLOW PRO - CACHE DURATIONS (in seconds)
# ============================================================================

# Project health check cache
DEVFLOW_CACHE_PROJECT_HEALTH=60

# SSL certificate check cache
DEVFLOW_CACHE_SSL_CERTIFICATE=3600

# Server metrics cache
DEVFLOW_CACHE_SERVER_METRICS=300

# Container status cache
DEVFLOW_CACHE_CONTAINER_STATUS=30

# ============================================================================
# DEVFLOW PRO - NOTIFICATION SETTINGS
# ============================================================================

# Enable/disable notification channels
DEVFLOW_NOTIFICATIONS_EMAIL=true
DEVFLOW_NOTIFICATIONS_SLACK=false
DEVFLOW_NOTIFICATIONS_DISCORD=false

# Notification channels for specific events (comma-separated)
# Options: email, slack, discord
DEVFLOW_DEPLOYMENT_FAILURE_CHANNELS=email
DEVFLOW_HEALTH_CHECK_FAILURE_CHANNELS=email

# ============================================================================
# NGINX PROXY MANAGER INTEGRATION
# ============================================================================

# Nginx Proxy Manager URL
# Used for automated SSL and domain management
NGINX_PROXY_MANAGER_URL=http://localhost:81

# Nginx Proxy Manager credentials
NGINX_PROXY_MANAGER_EMAIL=admin@example.com
NGINX_PROXY_MANAGER_PASSWORD=

# ============================================================================
# GIT PROVIDER INTEGRATIONS (Optional)
# ============================================================================

# GitHub Integration
# For GitHub webhook deployments and authentication
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_WEBHOOK_SECRET=
GITHUB_TOKEN=

# GitLab Integration
# For GitLab webhook deployments and authentication
GITLAB_URL=https://gitlab.com
GITLAB_CLIENT_ID=
GITLAB_CLIENT_SECRET=
GITLAB_WEBHOOK_SECRET=
GITLAB_TOKEN=

# Bitbucket Integration
# For Bitbucket webhook deployments and authentication
BITBUCKET_URL=https://api.bitbucket.org/2.0
BITBUCKET_USERNAME=
BITBUCKET_APP_PASSWORD=
BITBUCKET_CLIENT_ID=
BITBUCKET_CLIENT_SECRET=
BITBUCKET_WEBHOOK_SECRET=

# ============================================================================
# CI/CD INTEGRATIONS (Optional)
# ============================================================================

# Jenkins Integration
JENKINS_URL=
JENKINS_USER=
JENKINS_TOKEN=

# Docker Registry Integration
# For private Docker registry support
DOCKER_REGISTRY_URL=
DOCKER_REGISTRY_USERNAME=
DOCKER_REGISTRY_PASSWORD=

# ============================================================================
# NOTIFICATION SERVICES (Optional)
# ============================================================================

# Slack Integration
# Get webhook URL from: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=
SLACK_BOT_TOKEN=
SLACK_CHANNEL=#deployments

# Discord Integration
# Get webhook URL from Discord Server Settings > Integrations
DISCORD_WEBHOOK_URL=
DISCORD_BOT_TOKEN=

# ============================================================================
# ERROR TRACKING & MONITORING (Optional)
# ============================================================================

# Sentry Error Tracking
# Get DSN from: https://sentry.io/settings/projects/
SENTRY_LARAVEL_DSN=
SENTRY_TRACES_SAMPLE_RATE=1.0

# Laravel Telescope (Development Tool)
# Enable for development/staging, disable for production
TELESCOPE_ENABLED=false

# ============================================================================
# SYSTEM ADMINISTRATION (Advanced)
# ============================================================================

# Primary server configuration
# Used for system administration features
DEVFLOW_PRIMARY_SERVER_IP=
DEVFLOW_PRIMARY_SERVER_USER=root
DEVFLOW_PRIMARY_SERVER_PORT=22

# System administration paths
DEVFLOW_BACKUP_LOG_PATH=/opt/backups/databases/backup.log
DEVFLOW_BACKUP_DIR=/opt/backups/databases
DEVFLOW_MONITOR_LOG_PATH=/var/log/devflow-monitor.log
DEVFLOW_OPTIMIZATION_LOG_PATH=/var/log/devflow-db-optimization.log

# System administration scripts
DEVFLOW_BACKUP_SCRIPT=/opt/scripts/backup-databases.sh
DEVFLOW_OPTIMIZE_SCRIPT=/opt/scripts/optimize-databases.sh

# ============================================================================
# METRICS & ANALYTICS (Optional)
# ============================================================================

# Metrics retention period (in days)
METRICS_RETENTION_DAYS=30

# ============================================================================
# VITE (Frontend Build Tool)
# ============================================================================

# Application name for Vite
VITE_APP_NAME="${APP_NAME}"

# Reverb configuration for Vite
VITE_REVERB_APP_KEY="${REVERB_APP_KEY}"
VITE_REVERB_HOST="${REVERB_HOST}"
VITE_REVERB_PORT="${REVERB_PORT}"
VITE_REVERB_SCHEME="${REVERB_SCHEME}"

# ============================================================================
# ADDITIONAL NOTES
# ============================================================================
#
# 1. Security Best Practices:
#    - Never commit .env file to version control
#    - Use strong, unique passwords for all services
#    - Enable SSL/TLS for production deployments
#    - Rotate secrets and tokens regularly
#
# 2. Performance Optimization:
#    - Use Redis for cache, sessions, and queues in production
#    - Enable Docker BuildKit for faster builds
#    - Configure appropriate timeout values for your infrastructure
#
# 3. Backup Strategy:
#    - Enable auto-backup before deployments
#    - Configure appropriate retention periods
#    - Test backup restoration regularly
#
# 4. For detailed configuration guide, see: docs/CONFIGURATION.md
#
# ============================================================================
